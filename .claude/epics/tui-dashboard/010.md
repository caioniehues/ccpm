---
id: "010"
name: Implement helper views (help, selector, search)
status: completed
created: 2025-12-23T19:45:00Z
updated: 2025-12-23T20:15:00Z
depends_on: ["006"]
parallel: true
conflicts_with: []
effort: M
---

# Task: Implement Helper Views (Help, Selector, Search)

## Description

Implement the helper views: Help Overlay (Wireframe #7), Multi-Epic Selector (Wireframe #6), PRD Detail (Wireframe #11), Settings (Wireframe #17), and Search/Filter Modal (Wireframe #18).

## Acceptance Criteria

### Help Overlay (?)
- [ ] Semi-transparent overlay on current view
- [ ] Keyboard shortcuts organized by category (Navigation, Actions, Views, System)
- [ ] Press any key to dismiss

### Multi-Epic Selector
- [ ] List of all epics with progress bars
- [ ] Filter input at top
- [ ] Selected epic highlighted
- [ ] Shows status, task count, last updated

### PRD Detail View
- [ ] Similar to Epic Detail but for PRD content
- [ ] Shows linked artifacts (Epic, Tasks)
- [ ] âœ… APPROVED status badge

### Settings View
- [ ] Theme selection (Neo-Brutalist default)
- [ ] GitHub configuration display
- [ ] Behavior toggles (file watching, confirm on exit)

### Search/Filter Modal
- [ ] Search input with instant filtering
- [ ] Type filters (Epics, Tasks, PRDs)
- [ ] Status filters (All, Pending, In Progress, Done)
- [ ] Results list with navigation

## Files to Create

### internal/tui/views/help.go

```go
package views

func (m Model) viewHelp() string {
    // Semi-transparent background (dimmed current view)
    bg := MutedStyle.Render(m.viewDashboard())
    
    helpContent := ElevatedCard.Render(`
KEYBOARD SHORTCUTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

NAVIGATION                       ACTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”€â”€â”€â”€â”€â”€â”€
â†‘ k      Move up                 âŽ       Select/Confirm
â†“ j      Move down               esc     Back/Cancel
â† h      Previous section        /       Filter/Search
â†’ l      Next section            ?       Toggle help
g        Go to top
G        Go to bottom            VIEWS
tab      Next panel              â”€â”€â”€â”€â”€
                                 e       Epic details
WORKFLOW                         t       Task details
â”€â”€â”€â”€â”€â”€â”€â”€                         p       View PRD
w        Launch wizard           a       Activity log
s        Sync to GitHub
c        Mark complete           SYSTEM
b        Mark blocked            â”€â”€â”€â”€â”€â”€
n        Next task               r       Refresh
                                 q       Quit
`)
    
    dismissHint := MutedStyle.Render("Press any key to close")
    
    // Center the help modal
    modal := lipgloss.JoinVertical(lipgloss.Center, helpContent, "", dismissHint)
    
    return lipgloss.Place(
        m.Width, m.Height,
        lipgloss.Center, lipgloss.Center,
        modal,
        lipgloss.WithWhitespaceChars("â–‘"),
        lipgloss.WithWhitespaceForeground(Graphite),
    )
}
```

### internal/tui/views/epic_selector.go

```go
package views

func (m Model) viewEpicSelector() string {
    title := TitleStyle.Render("SELECT EPIC")
    divider := strings.Repeat("â•", m.Width - 8)
    
    filter := fmt.Sprintf("Filter: %sâ–ˆ", m.FilterInput)
    count := MutedStyle.Render(fmt.Sprintf("%d epics", len(m.Epics)))
    filterLine := lipgloss.JoinHorizontal(lipgloss.Top, filter, "  ", count)
    
    // Epic list
    var epicItems []string
    for i, epic := range m.FilteredEpics() {
        item := m.renderEpicSelectorItem(epic, i == m.SelectedEpicIndex)
        epicItems = append(epicItems, item)
    }
    
    list := lipgloss.JoinVertical(lipgloss.Left, epicItems...)
    
    footer := MutedStyle.Render("[â†‘/â†“]navigate  [âŽ]select  [/]filter  [n]ew epic  [esc]cancel")
    
    content := lipgloss.JoinVertical(
        lipgloss.Left,
        title,
        divider,
        "",
        filterLine,
        "",
        list,
    )
    
    return AppFrame.Render(content) + "\n" + footer
}

func (m Model) renderEpicSelectorItem(epic Epic, selected bool) string {
    // Progress bar
    prog := progress.New(progress.WithGradient(Electric, Volt))
    progBar := prog.ViewAs(epic.Progress)
    
    // Status text
    status := "NOT STARTED"
    if epic.DoneCount > 0 && epic.DoneCount < epic.TaskCount {
        status = "IN PROGRESS"
    } else if epic.DoneCount == epic.TaskCount {
        status = "COMPLETED"
    }
    
    content := fmt.Sprintf(`
â—† %s
   â”‚
   â”‚  %s
   â”‚
   â”‚  %s
   â”‚
   â”‚  %s  â€¢  %d/%d tasks  â€¢  Updated %s
   â”‚
`, epic.Name, epic.Description, progBar, status, epic.DoneCount, epic.TaskCount, epic.UpdatedAt)
    
    if selected {
        return SelectedItem.Render("â¯ " + content)
    }
    return "  " + content
}
```

### internal/tui/views/search.go

```go
package views

type SearchModel struct {
    Query       string
    TypeFilters []string  // "Epics", "Tasks", "PRDs"
    StatusFilter string   // "All", "Pending", "In Progress", "Done"
    Results     []SearchResult
    Selected    int
}

type SearchResult struct {
    Type        string
    Name        string
    Description string
    Icon        string
}

func (m Model) viewSearch() string {
    // Modal overlay
    modal := ElevatedCard.Width(60).Render(lipgloss.JoinVertical(
        lipgloss.Left,
        "ðŸ” SEARCH",
        strings.Repeat("â•", 56),
        "",
        m.renderSearchInput(),
        "",
        m.renderSearchFilters(),
        "",
        m.renderSearchResults(),
    ))
    
    footer := MutedStyle.Render("[â†‘/â†“]navigate  [âŽ]select  [tab]toggle filter  [esc]close")
    
    return lipgloss.Place(
        m.Width, m.Height,
        lipgloss.Center, lipgloss.Center,
        lipgloss.JoinVertical(lipgloss.Center, modal, "", footer),
        lipgloss.WithWhitespaceChars("â–‘"),
        lipgloss.WithWhitespaceForeground(Graphite),
    )
}
```

## Design Reference

- Help Overlay: TUI-WIREFRAMES.md lines 608-646 (Wireframe #7)
- Multi-Epic Selector: TUI-WIREFRAMES.md lines 563-606 (Wireframe #6)
- PRD Detail: TUI-WIREFRAMES.md lines 760-815 (Wireframe #11)
- Settings: TUI-WIREFRAMES.md lines 1067-1115 (Wireframe #17)
- Search/Filter: TUI-WIREFRAMES.md lines 1117-1159 (Wireframe #18)

## Definition of Done

- Help overlay shows all keybindings organized
- Epic selector allows choosing between multiple epics
- Search filters and displays results
- PRD detail shows content and linked artifacts
- Settings view displays configuration
