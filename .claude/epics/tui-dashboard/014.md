---
id: "014"
name: Create /pm:dashboard command
status: pending
created: 2025-12-23T19:45:00Z
updated: 2025-12-23T19:45:00Z
depends_on: ["007", "012"]
parallel: false
conflicts_with: []
effort: S
---

# Task: Create /pm:dashboard Command

## Description

Create the slash command that launches the TUI dashboard binary. This command serves as the entry point for the visual dashboard from within Claude Code.

## Acceptance Criteria

- [ ] `/pm:dashboard` launches the ccpm-tui binary
- [ ] `/pm:dashboard --wizard` launches in wizard mode
- [ ] `/pm:dashboard --epic {name}` opens with specific epic selected
- [ ] Command checks if binary exists before launching
- [ ] Helpful error message if binary not found
- [ ] Works from any directory within the project

## File to Create

### ccpm/commands/pm/dashboard.md

```yaml
---
description: Launch the TUI dashboard for visual epic/task tracking
argument-hint: [--wizard] [--epic <name>]
allowed-tools:
  - Bash
  - Read
---
```

```xml
<objective>
Launch the CCPM TUI dashboard for real-time visualization of epics, tasks,
and PRDs. The dashboard provides keyboard-driven navigation and wizard-style
approval workflows.
</objective>

<process>
**1. Locate Binary**

Check for ccpm-tui binary in order:
1. ./ccpm-tui (project root)
2. $GOPATH/bin/ccpm-tui
3. ~/.local/bin/ccpm-tui

**2. Parse Arguments**

- `--wizard`: Start in wizard mode for new epic creation
- `--epic {name}`: Open dashboard with specific epic selected
- No args: Open main dashboard with most recent epic

**3. Launch Dashboard**

Execute the binary with appropriate flags:
```bash
./ccpm-tui [--wizard] [--epic {name}]
```

**4. Handle Missing Binary**

If binary not found, display installation instructions:
```
TUI Dashboard binary not found.

To build it:
  cd ccpm && go build -o ccpm-tui ./cmd/ccpm-tui

Or install globally:
  go install github.com/automazeio/ccpm/cmd/ccpm-tui@latest
```
</process>

<success_criteria>
- Dashboard launches successfully
- Wizard mode activates with --wizard flag
- Specific epic selected with --epic flag
- Clear error message if binary missing
</success_criteria>
```

## Binary Location Strategy

The command should look for the binary in this order:

1. **Project root**: `./ccpm-tui`
   - For development and local builds

2. **Go bin**: `$GOPATH/bin/ccpm-tui`
   - For `go install` users

3. **Local bin**: `~/.local/bin/ccpm-tui`
   - For manual installation

4. **System PATH**: `ccpm-tui`
   - Fallback to system PATH

## Usage Examples

```bash
# Launch main dashboard
/pm:dashboard

# Launch wizard for new epic
/pm:dashboard --wizard

# Open specific epic
/pm:dashboard --epic user-authentication

# Equivalent direct invocation
./ccpm-tui
./ccpm-tui --wizard
./ccpm-tui --epic user-authentication
```

## Error Handling

### Binary Not Found
```
Error: ccpm-tui binary not found

The TUI dashboard requires building the Go binary first.

Quick start:
  cd ccpm && go build -o ccpm-tui ./cmd/ccpm-tui

For global installation:
  go install github.com/automazeio/ccpm/cmd/ccpm-tui@latest

Note: Requires Go 1.21 or later
```

### Wrong Directory
```
Error: Not in a CCPM project

The dashboard requires a .claude/ directory.
Run this command from your project root.
```

## Definition of Done

- Command file created with proper structure
- Binary discovery works across locations
- Flags passed correctly to binary
- Error messages are helpful
- Works from project subdirectories
